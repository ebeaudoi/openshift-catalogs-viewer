<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Hat Operator Catalog Fetcher</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Red Hat Operator Catalog Fetcher</h1>
            <p class="subtitle">Select a catalog and version to fetch available operators</p>
        </header>

        <!-- Feature Tabs -->
        <div class="feature-tabs">
            <button class="tab-button active" data-tab="fetch">Fetch Operators</button>
            <button class="tab-button" data-tab="create-config">Create ImageSetConfig</button>
            <button class="tab-button" data-tab="update-config">Update ImageSetConfig</button>
        </div>

        <!-- Tab 1: Fetch Operators (existing functionality) -->
        <main id="fetch-tab" class="tab-content active">
            <div class="form-group">
                <label for="catalog-select">Select Catalog</label>
                <select id="catalog-select" class="dropdown">
                    <option value="">-- Select Catalog --</option>
                    <option value="redhat-operator-index">Red Hat</option>
                    <option value="certified-operator-index">Certified</option>
                    <option value="community-operator-index">Community</option>
                    <option value="redhat-marketplace-index">Marketplace</option>
                </select>
            </div>

            <div class="form-group">
                <label for="version-select">Select Version</label>
                <select id="version-select" class="dropdown">
                    <option value="">-- Select Version --</option>
                    <option value="v4.20">v4.20</option>
                    <option value="v4.19">v4.19</option>
                    <option value="v4.18">v4.18</option>
                    <option value="v4.17">v4.17</option>
                    <option value="v4.16">v4.16</option>
                    <option value="v4.15">v4.15</option>
                </select>
            </div>

            <div class="form-group">
                <button id="fetch-button" class="fetch-button" disabled>
                    <span class="button-text">Fetch Operators</span>
                    <span class="spinner" style="display: none;"></span>
                </button>
            </div>

            <div class="form-group">
                <label for="operator-select">Select Operator</label>
                <select id="operator-select" class="dropdown" disabled>
                    <option value="">-- Select Operator --</option>
                </select>
            </div>

            <div class="form-group">
                <button id="view-details-button" class="view-details-button" disabled>
                    View Operator Details
                </button>
            </div>

            <div id="error-message" class="error-message" style="display: none;"></div>
            <div id="success-message" class="success-message" style="display: none;"></div>
        </main>

        <!-- Tab 2: Create ImageSetConfiguration -->
        <main id="create-config-tab" class="tab-content">
            <div class="config-wizard">
                <h2>Create New ImageSetConfiguration</h2>
                
                <div class="form-group">
                    <label for="config-catalog-select">Select Catalog</label>
                    <select id="config-catalog-select" class="dropdown">
                        <option value="">-- Select Catalog --</option>
                        <option value="redhat-operator-index">Red Hat</option>
                        <option value="certified-operator-index">Certified</option>
                        <option value="community-operator-index">Community</option>
                        <option value="redhat-marketplace-index">Marketplace</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="config-version-select">Select Version</label>
                    <select id="config-version-select" class="dropdown">
                        <option value="">-- Select Version --</option>
                        <option value="v4.20">v4.20</option>
                        <option value="v4.19">v4.19</option>
                        <option value="v4.18">v4.18</option>
                        <option value="v4.17">v4.17</option>
                        <option value="v4.16">v4.16</option>
                        <option value="v4.15">v4.15</option>
                    </select>
                </div>

                <div class="form-group">
                    <button id="config-fetch-operators-button" class="fetch-button" disabled>
                        Fetch Operators
                    </button>
                </div>

                <div class="form-group">
                    <label for="config-operator-select">Select Operator</label>
                    <select id="config-operator-select" class="dropdown" disabled>
                        <option value="">-- Select Operator --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="config-channel-select">Select Channel</label>
                    <select id="config-channel-select" class="dropdown" disabled>
                        <option value="">-- Select Channel --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="config-version-select-operator">Select Version</label>
                    <select id="config-version-select-operator" class="dropdown" disabled>
                        <option value="">-- Select Version --</option>
                    </select>
                </div>

                <div class="form-group">
                    <button id="config-add-operator-button" class="add-button" disabled>
                        Add Operator to Configuration
                    </button>
                </div>

                <!-- Selected Operators Display -->
                <div id="selected-operators-section" class="selected-operators-section" style="display: none;">
                    <h3>Selected Operators</h3>
                    <div id="selected-operators-list"></div>
                </div>

                <div class="form-group">
                    <button id="config-generate-button" class="generate-button" disabled>
                        Generate ImageSetConfiguration
                    </button>
                </div>

                <div id="config-result" class="config-result" style="display: none;">
                    <h3>Generated Configuration</h3>
                    <pre id="config-yaml-output"></pre>
                    <button id="config-download-button" class="download-button">Download YAML</button>
                </div>
            </div>
        </main>

        <!-- Tab 3: Update ImageSetConfiguration -->
        <main id="update-config-tab" class="tab-content">
            <div class="update-config-section">
                <h2>Update Existing ImageSetConfiguration</h2>
                
                <div class="form-group">
                    <label for="config-file-input">Upload ImageSetConfiguration File</label>
                    <input type="file" id="config-file-input" accept=".yaml,.yml" class="file-input">
                </div>

                <div id="config-parse-status" class="status-message" style="display: none;"></div>

                <div id="config-update-section" style="display: none;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0;">Operator Versions</h3>
                        <button id="config-select-all-button" class="select-all-button">
                            Select All
                        </button>
                    </div>
                    <div id="operator-versions-list"></div>
                    
                    <div class="form-group">
                        <button id="config-update-button" class="update-button">
                            Update ImageSetConfiguration
                        </button>
                    </div>
                </div>

                <div id="config-update-result" class="config-result" style="display: none;">
                    <h3>Updated Configuration</h3>
                    <pre id="config-update-yaml-output"></pre>
                    <button id="config-update-download-button" class="download-button">Download Updated YAML</button>
                </div>
            </div>
        </main>

        <div class="logs-panel">
            <div class="logs-header">
                <h3>Application Logs</h3>
                <div class="logs-controls">
                    <button id="clear-logs-button" class="clear-logs-button" title="Clear logs">Clear</button>
                    <button id="toggle-logs-button" class="toggle-logs-button" title="Toggle logs panel">âˆ’</button>
                </div>
            </div>
            <div id="logs-content" class="logs-content">
                <div class="log-entry log-info">
                    <span class="log-time"></span>
                    <span class="log-message">Application initialized. Ready to fetch operators.</span>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

